"use client"
import { useQuery } from "@tanstack/react-query";
import LinkCard from "./LinkCard";
import { fetcher } from "@club/utils";
import { SkeletonBar } from "@club/ui";
import { useEffect, useState } from "react";

// do api calls here using server actions or normal SSR api call ( can also use React Query for better api calling and caching calls. ).
const NotFoundImage = ({
    className
}: {
    className: string
}) => {
    return (
        <>
            <svg className={className} width="983" height="580" viewBox="0 0 983 580" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M494.921 0.734009C366.375 0.734009 262.209 104.901 262.209 233.447C262.209 322.653 312.076 399.67 385.768 439.01L450.595 299.936H539.247L604.075 439.01C677.767 399.67 727.634 322.653 727.634 233.447C727.634 104.901 623.467 0.734009 494.921 0.734009Z" fill="#D4E3EE" />
                <path d="M655.604 549.271C643.414 535.973 572.492 525.446 492.151 525.446C411.81 525.446 345.874 535.419 333.685 548.717L448.379 302.152C463.339 306.585 476.637 308.801 492.151 308.801C507.665 308.801 526.504 306.585 541.464 302.152L655.604 549.271Z" fill="white" />
                <path d="M334.239 552.041C333.685 552.041 333.685 552.041 333.131 552.041C331.468 551.487 330.914 549.825 332.022 548.163L448.379 298.828C448.933 297.72 450.595 296.611 452.257 297.72C453.919 298.274 454.474 299.936 453.365 301.598L337.009 550.933C336.455 551.487 335.347 552.041 334.239 552.041Z" fill="#231F20" />
                <path d="M655.604 552.041C654.496 552.041 653.388 551.487 652.833 550.379L536.477 301.044C535.923 299.382 536.477 298.274 537.585 297.166C539.247 296.612 540.356 297.166 541.464 298.274L657.82 547.609C658.374 549.271 657.82 550.379 656.712 551.487C656.158 552.041 656.158 552.041 655.604 552.041Z" fill="#231F20" />
                <path d="M605.737 261.151C575.263 290.517 534.815 305.477 494.921 305.477C455.028 305.477 414.58 290.517 384.106 261.151H605.737Z" fill="white" />
                <path d="M494.921 576.975C583.664 576.975 655.604 564.572 655.604 549.271C655.604 533.971 583.664 521.567 494.921 521.567C406.179 521.567 334.239 533.971 334.239 549.271C334.239 564.572 406.179 576.975 494.921 576.975Z" fill="white" />
                <path d="M494.921 579.745C413.472 579.745 331.468 569.218 331.468 549.271C331.468 529.324 413.472 518.797 494.921 518.797C576.371 518.797 658.374 529.324 658.374 549.271C658.374 569.218 576.371 579.745 494.921 579.745ZM494.921 524.338C396.849 524.338 337.009 538.744 337.009 549.271C337.009 559.799 396.849 574.205 494.921 574.205C592.993 574.205 652.833 559.799 652.833 549.271C652.833 538.744 592.993 524.338 494.921 524.338Z" fill="#231F20" />
                <path d="M453.919 407.981H453.365C451.703 407.427 451.149 406.319 451.149 404.657L472.758 304.923C473.312 303.261 474.42 302.706 476.083 302.706C477.745 303.26 478.299 304.369 478.299 306.031L456.69 405.765C456.136 406.873 455.028 407.981 453.919 407.981Z" fill="#231F20" />
                <path d="M441.73 463.389H441.176C439.513 462.835 438.959 461.727 438.959 460.065L448.379 415.738C448.933 414.076 450.041 413.522 451.703 413.522C453.365 414.076 453.919 415.184 453.919 416.846L444.5 461.173C444.5 462.281 443.392 463.389 441.73 463.389Z" fill="#231F20" />
                <path d="M548.113 463.389C547.005 463.389 545.896 462.281 545.342 461.173L535.923 416.846C535.369 415.184 536.477 414.076 538.139 413.522C539.802 413.522 540.91 414.076 541.464 415.738L550.883 460.065C551.437 461.727 550.329 462.835 548.667 463.389C548.113 463.389 548.113 463.389 548.113 463.389Z" fill="#231F20" />
                <path d="M535.923 407.981C534.815 407.981 533.707 406.873 533.153 405.765L511.544 306.031C510.99 304.369 512.098 303.26 513.76 302.706C515.422 302.706 516.53 303.261 517.084 304.923L538.693 404.657C539.247 406.319 538.139 407.427 536.477 407.981C536.477 407.981 536.477 407.981 535.923 407.981Z" fill="#231F20" />
                <path d="M728.742 261.151H261.1C252.789 261.151 245.586 254.502 245.586 245.636C245.586 238.433 250.573 232.339 257.776 230.676L411.81 194.661H578.033L732.067 230.676C739.27 232.339 744.256 238.433 744.256 245.636C744.256 254.502 737.607 261.151 728.742 261.151Z" fill="white" />
                <path d="M566.951 172.498H422.891V133.713C422.891 93.8191 455.028 61.6826 494.921 61.6826C534.815 61.6826 566.951 93.8191 566.951 133.713V172.498Z" fill="#C7EAFB" />
                <path d="M566.951 178.039H422.891C419.567 178.039 417.35 175.823 417.35 172.498V133.713C417.35 91.0487 452.257 56.1418 494.921 56.1418C537.585 56.1418 572.492 91.0487 572.492 133.713V172.498C572.492 175.823 570.276 178.039 566.951 178.039ZM428.432 166.957H561.411V133.713C561.411 97.1436 531.49 67.2233 494.921 67.2233C458.352 67.2233 428.432 97.1436 428.432 133.713V166.957Z" fill="#231F20" />
                <path d="M456.136 97.1436C455.582 97.1436 454.474 96.5895 453.919 96.5895C452.811 95.4813 452.811 93.8191 453.919 92.7109C465.001 82.1835 479.407 76.0886 494.921 76.0886C496.583 76.0886 497.692 77.1968 497.692 78.859C497.692 80.5212 496.583 81.6294 494.921 81.6294C481.069 81.6294 467.771 87.1702 457.798 96.5895C457.798 96.5895 456.69 97.1436 456.136 97.1436Z" fill="#231F20" />
                <path d="M442.284 119.861H441.73C440.068 119.307 439.514 117.644 440.068 116.536C441.176 113.766 441.73 110.996 443.392 108.779C443.946 107.671 445.608 106.563 447.271 107.671C448.379 108.225 449.487 109.887 448.379 111.55C447.271 113.766 446.162 116.536 445.608 118.753C444.5 119.307 443.392 119.861 442.284 119.861Z" fill="#231F20" />
                <path d="M578.033 194.661H411.81V183.58C411.81 177.485 416.796 172.498 422.891 172.498H566.951C573.046 172.498 578.033 177.485 578.033 183.58V194.661Z" fill="white" />
                <path d="M633.441 128.172C633.441 131.496 631.224 133.713 627.9 133.713C624.575 133.713 622.359 131.496 622.359 128.172C622.359 124.847 624.575 122.631 627.9 122.631C631.224 122.631 633.441 124.847 633.441 128.172Z" fill="#231F20" />
                <path d="M633.441 164.187C633.441 165.849 632.333 166.957 630.67 166.957C629.008 166.957 627.9 165.849 627.9 164.187C627.9 162.525 629.008 161.417 630.67 161.417C632.333 161.417 633.441 162.525 633.441 164.187Z" fill="#231F20" />
                <path d="M672.226 114.32C672.226 115.982 671.118 117.09 669.456 117.09C667.794 117.09 666.685 115.982 666.685 114.32C666.685 112.658 667.794 111.55 669.456 111.55C671.118 111.55 672.226 112.658 672.226 114.32Z" fill="#231F20" />
                <path d="M323.157 186.35C323.157 188.012 322.049 189.121 320.387 189.121C318.725 189.121 317.616 188.012 317.616 186.35C317.616 184.688 318.725 183.58 320.387 183.58C322.049 183.58 323.157 184.688 323.157 186.35Z" fill="#231F20" />
                <path d="M633.441 64.453C633.441 66.1152 632.333 67.2233 630.67 67.2233C629.008 67.2233 627.9 66.1152 627.9 64.453C627.9 62.7907 629.008 61.6826 630.67 61.6826C632.333 61.6826 633.441 62.7907 633.441 64.453Z" fill="#231F20" />
                <path d="M384.106 92.1569C384.106 93.8191 382.998 94.9272 381.335 94.9272C379.673 94.9272 378.565 93.8191 378.565 92.1569C378.565 90.4946 379.673 89.3865 381.335 89.3865C382.998 89.3865 384.106 90.4946 384.106 92.1569Z" fill="#231F20" />
                <path d="M450.595 25.6675C450.595 27.3298 449.487 28.4379 447.825 28.4379C446.162 28.4379 445.054 27.3298 445.054 25.6675C445.054 24.0053 446.162 22.8972 447.825 22.8972C449.487 22.8972 450.595 24.0053 450.595 25.6675Z" fill="#231F20" />
                <path d="M334.239 92.1569C334.239 93.8191 333.131 94.9272 331.468 94.9272C329.806 94.9272 328.698 93.8191 328.698 92.1569C328.698 90.4946 329.806 89.3865 331.468 89.3865C333.131 89.3865 334.239 90.4946 334.239 92.1569Z" fill="#231F20" />
                <path d="M356.402 164.187C356.402 165.849 355.294 166.957 353.631 166.957C351.969 166.957 350.861 165.849 350.861 164.187C350.861 162.525 351.969 161.417 353.631 161.417C355.294 161.417 356.402 162.525 356.402 164.187Z" fill="#231F20" />
                <path d="M561.411 45.0602C561.411 48.3847 559.194 50.601 555.87 50.601C552.545 50.601 550.329 48.3847 550.329 45.0602C550.329 41.7358 552.545 39.5195 555.87 39.5195C559.194 39.5195 561.411 41.7358 561.411 45.0602Z" fill="#231F20" />
                <path d="M350.861 128.172C350.861 131.496 348.645 133.713 345.32 133.713C341.996 133.713 339.779 131.496 339.779 128.172C339.779 124.847 341.996 122.631 345.32 122.631C348.645 122.631 350.861 124.847 350.861 128.172Z" fill="#231F20" />
                <path d="M566.951 166.957H422.891C413.472 166.957 406.269 174.16 406.269 183.58V194.661C406.269 197.986 408.485 200.202 411.81 200.202H578.033C581.357 200.202 583.574 197.986 583.574 194.661V183.58C583.574 174.16 576.371 166.957 566.951 166.957ZM453.365 178.039H469.988V189.121H453.365V178.039ZM447.825 189.121H431.202V178.039H447.825V189.121ZM475.529 178.039H492.151V189.121H475.529V178.039ZM497.692 178.039H514.314V189.121H497.692V178.039ZM519.855 178.039H536.477V189.121H519.855V178.039ZM542.018 178.039H558.64V189.121H542.018V178.039ZM417.35 183.58C417.35 180.255 419.567 178.039 422.891 178.039H425.662V189.121H417.35V183.58ZM572.492 189.121H564.181V178.039H566.951C570.276 178.039 572.492 180.255 572.492 183.58V189.121Z" fill="#231F20" />
                <path d="M528.166 172.498H461.677V133.713C461.677 115.428 476.637 100.468 494.921 100.468C513.206 100.468 528.166 115.428 528.166 133.713V172.498Z" fill="#BBD868" />
                <path d="M528.166 178.039H461.677C458.352 178.039 456.136 175.823 456.136 172.498V133.713C456.136 112.104 473.312 94.9272 494.921 94.9272C516.53 94.9272 533.707 112.104 533.707 133.713V172.498C533.707 175.823 531.49 178.039 528.166 178.039ZM467.217 166.957H522.625V133.713C522.625 118.199 510.435 106.009 494.921 106.009C479.407 106.009 467.217 118.199 467.217 133.713V166.957Z" fill="#231F20" />
                <path d="M494.921 150.335C504.102 150.335 511.544 142.893 511.544 133.713C511.544 124.532 504.102 117.09 494.921 117.09C485.741 117.09 478.299 124.532 478.299 133.713C478.299 142.893 485.741 150.335 494.921 150.335Z" fill="white" />
                <path d="M494.921 153.105C484.394 153.105 475.529 144.24 475.529 133.713C475.529 123.185 484.394 114.32 494.921 114.32C505.449 114.32 514.314 123.185 514.314 133.713C514.314 144.24 505.449 153.105 494.921 153.105ZM494.921 119.861C487.164 119.861 481.069 125.956 481.069 133.713C481.069 141.47 487.164 147.565 494.921 147.565C502.678 147.565 508.773 141.47 508.773 133.713C508.773 125.956 502.678 119.861 494.921 119.861Z" fill="#231F20" />
                <path d="M500.462 139.253C500.462 142.578 498.246 144.794 494.921 144.794C491.597 144.794 489.38 142.578 489.38 139.253C489.38 135.929 491.597 133.713 494.921 133.713C498.246 133.713 500.462 135.929 500.462 139.253Z" fill="#231F20" />
                <path d="M733.729 225.136L579.141 189.12C578.587 189.12 578.033 189.12 578.033 189.12H411.81C411.255 189.12 410.701 189.12 410.701 189.12L256.668 225.136C247.248 227.352 240.6 235.663 240.6 245.636C240.6 257.272 250.019 266.691 261.654 266.691H729.296C740.932 266.691 750.351 257.272 750.351 245.636C749.797 235.663 743.148 227.352 733.729 225.136ZM258.884 236.217L412.364 200.202H577.479L730.958 236.217C734.283 236.771 736.499 238.987 737.607 241.758H732.067C730.958 240.096 729.296 238.987 727.634 238.987C725.418 238.987 723.755 240.096 723.201 241.758H693.835C692.727 240.096 691.065 238.987 689.403 238.987C687.186 238.987 685.524 240.096 684.97 241.758H655.604C653.942 240.096 652.279 238.987 650.063 238.987C647.847 238.987 646.185 240.096 645.63 241.758H616.264C615.156 240.096 613.494 238.987 611.278 238.987C609.061 238.987 607.399 240.096 606.845 241.758H577.479C576.371 240.096 574.708 238.987 572.492 238.987C570.276 238.987 568.614 240.096 568.06 241.758H538.693C537.585 240.096 535.923 238.987 533.707 238.987C531.49 238.987 529.828 240.096 529.274 241.758H499.908C498.8 240.096 497.138 238.987 494.921 238.987C492.705 238.987 491.043 240.096 490.489 241.758H461.123C460.014 240.096 458.352 238.987 456.136 238.987C453.92 238.987 452.257 240.096 451.703 241.758H422.337C421.229 240.096 419.567 238.987 417.35 238.987C415.134 238.987 413.472 240.096 412.918 241.758H383.552C382.443 240.096 380.781 238.987 378.565 238.987C376.349 238.987 374.686 240.096 374.132 241.758H344.766C343.658 240.096 341.996 238.987 339.779 238.987C337.563 238.987 335.901 240.096 335.347 241.758H305.981C304.873 240.096 303.21 238.987 300.994 238.987C298.778 238.987 297.115 240.096 296.561 241.758H267.195C266.087 240.096 264.425 238.987 262.209 238.987C259.992 238.987 258.33 240.096 257.776 241.758H252.235C253.343 238.987 255.56 236.771 258.884 236.217ZM728.742 255.61H261.1C256.114 255.61 252.235 251.731 251.127 247.299H257.222C258.33 248.961 259.992 250.069 261.654 250.069C263.871 250.069 265.533 248.961 266.087 247.299H295.453C296.561 248.961 298.224 250.069 299.886 250.069C301.548 250.069 303.764 248.961 304.318 247.299H333.685C334.793 248.961 336.455 250.069 338.117 250.069C339.779 250.069 341.996 248.961 342.55 247.299H371.916C373.024 248.961 374.686 250.069 376.349 250.069C378.011 250.069 380.227 248.961 380.781 247.299H410.147C411.256 248.961 412.918 250.069 414.58 250.069C416.242 250.069 418.458 248.961 419.013 247.299H448.379C449.487 248.961 451.149 250.069 452.811 250.069C454.474 250.069 456.69 248.961 457.244 247.299H486.61C487.718 248.961 489.381 250.069 491.043 250.069C493.259 250.069 494.921 248.961 495.475 247.299H524.841C525.95 248.961 527.612 250.069 529.274 250.069C531.49 250.069 533.153 248.961 533.707 247.299H563.073C564.181 248.961 565.843 250.069 567.505 250.069C569.722 250.069 571.384 248.961 571.938 247.299H601.304C602.412 248.961 604.075 250.069 605.737 250.069C607.953 250.069 609.615 248.961 610.169 247.299H639.536C640.644 248.961 642.306 250.069 643.968 250.069C646.185 250.069 647.847 248.961 648.401 247.299H677.767C678.875 248.961 680.537 250.069 682.2 250.069C684.416 250.069 686.078 248.961 686.632 247.299H715.998C717.106 248.961 718.769 250.069 720.431 250.069C722.647 250.069 724.31 248.961 724.864 247.299H730.958C737.607 251.731 733.729 255.61 728.742 255.61Z" fill="#231F20" />
                <path d="M755.338 552.042H672.226C670.564 552.042 669.456 550.933 669.456 549.271C669.456 547.609 670.564 546.501 672.226 546.501H755.338C757 546.501 758.108 547.609 758.108 549.271C758.108 550.933 757 552.042 755.338 552.042Z" fill="#231F20" />
                <path d="M317.616 552.042H234.505C232.842 552.042 231.734 550.933 231.734 549.271C231.734 547.609 232.842 546.501 234.505 546.501H317.616C319.279 546.501 320.387 547.609 320.387 549.271C320.387 550.933 319.279 552.042 317.616 552.042Z" fill="#231F20" />
                <path d="M716.552 197.432C714.89 197.432 713.782 196.324 713.782 194.661C713.782 186.904 707.687 180.809 699.93 180.809C698.268 180.809 697.16 179.701 697.16 178.039C697.16 176.377 698.268 175.269 699.93 175.269C707.687 175.269 713.782 169.174 713.782 161.417C713.782 159.754 714.89 158.646 716.552 158.646C718.215 158.646 719.323 159.754 719.323 161.417C719.323 169.174 725.418 175.269 733.175 175.269C734.837 175.269 735.945 176.377 735.945 178.039C735.945 179.701 734.837 180.809 733.175 180.809C725.418 180.809 719.323 186.904 719.323 194.661C719.323 196.324 718.215 197.432 716.552 197.432ZM709.903 178.039C712.674 179.701 714.89 181.918 716.552 184.688C718.215 181.918 720.431 179.701 723.201 178.039C720.431 176.377 718.215 174.16 716.552 171.39C714.89 174.16 712.674 176.377 709.903 178.039Z" fill="#231F20" />
                <path d="M306.535 166.957C309.595 166.957 312.076 164.477 312.076 161.417C312.076 158.357 309.595 155.876 306.535 155.876C303.475 155.876 300.994 158.357 300.994 161.417C300.994 164.477 303.475 166.957 306.535 166.957Z" fill="white" />
                <path d="M306.535 169.728C304.873 169.728 303.764 168.62 303.764 166.957C303.764 165.295 302.656 164.187 300.994 164.187C299.332 164.187 298.224 163.079 298.224 161.417C298.224 159.754 299.332 158.646 300.994 158.646C302.656 158.646 303.764 157.538 303.764 155.876C303.764 154.214 304.873 153.105 306.535 153.105C308.197 153.105 309.305 154.214 309.305 155.876C309.305 157.538 310.413 158.646 312.076 158.646C313.738 158.646 314.846 159.754 314.846 161.417C314.846 163.079 313.738 164.187 312.076 164.187C310.413 164.187 309.305 165.295 309.305 166.957C309.305 168.62 308.197 169.728 306.535 169.728Z" fill="#231F20" />
                <path d="M600.196 78.3049C603.256 78.3049 605.737 75.8242 605.737 72.7641C605.737 69.704 603.256 67.2233 600.196 67.2233C597.136 67.2233 594.655 69.704 594.655 72.7641C594.655 75.8242 597.136 78.3049 600.196 78.3049Z" fill="white" />
                <path d="M600.196 81.0753C598.534 81.0753 597.426 79.9671 597.426 78.3049C597.426 76.6427 596.317 75.5345 594.655 75.5345C592.993 75.5345 591.885 74.4264 591.885 72.7641C591.885 71.1019 592.993 69.9937 594.655 69.9937C596.317 69.9937 597.426 68.8856 597.426 67.2233C597.426 65.5611 598.534 64.4529 600.196 64.4529C601.858 64.4529 602.966 65.5611 602.966 67.2233C602.966 68.8856 604.075 69.9937 605.737 69.9937C607.399 69.9937 608.507 71.1019 608.507 72.7641C608.507 74.4264 607.399 75.5345 605.737 75.5345C604.075 75.5345 602.966 76.6427 602.966 78.3049C602.966 79.9671 601.858 81.0753 600.196 81.0753Z" fill="#231F20" />
                <path d="M666.685 150.335C669.745 150.335 672.226 147.854 672.226 144.794C672.226 141.734 669.745 139.254 666.685 139.254C663.625 139.254 661.145 141.734 661.145 144.794C661.145 147.854 663.625 150.335 666.685 150.335Z" fill="white" />
                <path d="M666.685 153.105C665.023 153.105 663.915 151.997 663.915 150.335C663.915 148.673 662.807 147.565 661.145 147.565C659.482 147.565 658.374 146.457 658.374 144.794C658.374 143.132 659.482 142.024 661.145 142.024C662.807 142.024 663.915 140.916 663.915 139.254C663.915 137.591 665.023 136.483 666.685 136.483C668.348 136.483 669.456 137.591 669.456 139.254C669.456 140.916 670.564 142.024 672.226 142.024C673.888 142.024 674.997 143.132 674.997 144.794C674.997 146.457 673.888 147.565 672.226 147.565C670.564 147.565 669.456 148.673 669.456 150.335C669.456 151.997 668.348 153.105 666.685 153.105Z" fill="#231F20" />
                <path d="M367.483 64.453C365.821 64.453 364.713 63.3448 364.713 61.6826C364.713 53.9255 358.618 47.8307 350.861 47.8307C349.199 47.8307 348.091 46.7225 348.091 45.0603C348.091 43.398 349.199 42.2899 350.861 42.2899C358.618 42.2899 364.713 36.195 364.713 28.4379C364.713 26.7757 365.821 25.6675 367.483 25.6675C369.146 25.6675 370.254 26.7757 370.254 28.4379C370.254 36.195 376.349 42.2899 384.106 42.2899C385.768 42.2899 386.876 43.398 386.876 45.0603C386.876 46.7225 385.768 47.8307 384.106 47.8307C376.349 47.8307 370.254 53.9255 370.254 61.6826C370.254 63.3448 369.146 64.453 367.483 64.453ZM360.834 45.0603C363.605 46.7225 365.821 48.9388 367.483 51.7092C369.146 48.9388 371.362 46.7225 374.132 45.0603C371.362 43.398 369.146 41.1817 367.483 38.4113C365.821 41.1817 363.605 43.398 360.834 45.0603Z" fill="#231F20" />
                <path d="M610.724 258.934C610.169 256.718 607.953 255.61 605.737 255.61H384.106C381.889 255.61 379.673 256.718 379.119 258.934C378.011 261.151 378.565 263.367 380.227 265.029C410.701 294.949 451.703 311.018 494.921 311.018C538.139 311.018 579.141 294.949 609.615 265.029C611.278 263.367 611.832 261.151 610.724 258.934ZM444.5 291.625H545.342C529.274 297.166 512.098 299.936 494.921 299.936C477.191 299.936 460.568 297.166 444.5 291.625ZM559.194 286.084H430.648C419.567 281.097 408.485 274.449 399.066 266.691H591.331C581.357 274.449 570.83 281.097 559.194 286.084Z" fill="#231F20" />
                <mask id="path-47-outside-1_0_1" maskUnits="userSpaceOnUse" x="7" y="88.0171" width="229" height="279" fill="black">
                    <rect fill="white" x="7" y="88.0171" width="229" height="279" />
                    <path d="M167.369 360.784C182.258 360.784 193.2 351.635 193.2 334.414V309.479H207.91C222.082 309.479 230.154 300.689 230.154 287.953C230.154 275.216 222.261 266.247 207.91 266.247H193.2V133.321C193.2 109.103 175.979 94.2142 148.533 94.2142C126.648 94.2142 113.552 103.184 95.6136 130.63C67.4497 172.427 41.6179 211.892 23.8586 243.823C15.7861 257.995 12.5571 268.041 12.5571 279.163C12.5571 297.281 25.6524 309.479 45.2057 309.479H141.716V334.414C141.716 351.635 152.479 360.784 167.369 360.784ZM142.793 267.682H59.9155V266.247C80.9038 227.14 104.762 190.725 141.716 137.447H142.793V267.682Z" />
                </mask>
                <path d="M167.369 360.784C182.258 360.784 193.2 351.635 193.2 334.414V309.479H207.91C222.082 309.479 230.154 300.689 230.154 287.953C230.154 275.216 222.261 266.247 207.91 266.247H193.2V133.321C193.2 109.103 175.979 94.2142 148.533 94.2142C126.648 94.2142 113.552 103.184 95.6136 130.63C67.4497 172.427 41.6179 211.892 23.8586 243.823C15.7861 257.995 12.5571 268.041 12.5571 279.163C12.5571 297.281 25.6524 309.479 45.2057 309.479H141.716V334.414C141.716 351.635 152.479 360.784 167.369 360.784ZM142.793 267.682H59.9155V266.247C80.9038 227.14 104.762 190.725 141.716 137.447H142.793V267.682Z" fill="white" />
                <path d="M193.2 309.479V304.231H187.952V309.479H193.2ZM193.2 266.247H187.952V271.495H193.2V266.247ZM95.6136 130.63L99.9661 133.563L99.9867 133.532L100.007 133.501L95.6136 130.63ZM23.8586 243.823L28.419 246.421L28.4322 246.398L28.4452 246.375L23.8586 243.823ZM141.716 309.479H146.965V304.231H141.716V309.479ZM142.793 267.682V272.93H148.041V267.682H142.793ZM59.9155 267.682H54.6671V272.93H59.9155V267.682ZM59.9155 266.247L55.291 263.765L54.6671 264.928V266.247H59.9155ZM141.716 137.447V132.198H138.969L137.404 134.455L141.716 137.447ZM142.793 137.447H148.041V132.198H142.793V137.447ZM167.369 366.033C175.878 366.033 183.745 363.404 189.514 357.832C195.318 352.226 198.449 344.172 198.449 334.414H187.952C187.952 341.878 185.612 347.008 182.222 350.282C178.797 353.59 173.748 355.536 167.369 355.536V366.033ZM198.449 334.414V309.479H187.952V334.414H198.449ZM193.2 314.728H207.91V304.231H193.2V314.728ZM207.91 314.728C216.099 314.728 223.097 312.164 228.058 307.203C233.01 302.251 235.403 295.439 235.403 287.953H224.906C224.906 293.203 223.263 297.154 220.635 299.781C218.017 302.4 213.893 304.231 207.91 304.231V314.728ZM235.403 287.953C235.403 280.502 233.077 273.652 228.158 268.646C223.218 263.617 216.204 260.999 207.91 260.999V271.495C213.967 271.495 218.076 273.361 220.67 276.002C223.285 278.664 224.906 282.667 224.906 287.953H235.403ZM207.91 260.999H193.2V271.495H207.91V260.999ZM198.449 266.247V133.321H187.952V266.247H198.449ZM198.449 133.321C198.449 119.888 193.625 108.597 184.609 100.731C175.678 92.9388 163.166 88.9658 148.533 88.9658V99.4626C161.346 99.4626 171.168 102.934 177.709 108.641C184.165 114.274 187.952 122.536 187.952 133.321H198.449ZM148.533 88.9658C136.767 88.9658 126.925 91.4079 117.62 97.8048C108.517 104.063 100.308 113.855 91.2204 127.759L100.007 133.501C108.858 119.958 116.166 111.542 123.567 106.455C130.766 101.505 138.413 99.4626 148.533 99.4626V88.9658ZM91.2611 127.697C63.102 169.487 37.1532 209.122 19.2719 241.272L28.4452 246.375C46.0826 214.663 71.7975 175.367 99.9661 133.563L91.2611 127.697ZM19.2981 241.226C10.9749 255.838 7.30876 266.797 7.30876 279.163H17.8055C17.8055 269.285 20.5973 260.153 28.419 246.421L19.2981 241.226ZM7.30876 279.163C7.30876 289.546 11.0946 298.564 17.9759 304.96C24.8238 311.324 34.3377 314.728 45.2057 314.728V304.231C36.5204 304.231 29.71 301.535 25.1219 297.271C20.5673 293.038 17.8055 286.898 17.8055 279.163H7.30876ZM45.2057 314.728H141.716V304.231H45.2057V314.728ZM136.468 309.479V334.414H146.965V309.479H136.468ZM136.468 334.414C136.468 344.146 139.538 352.199 145.294 357.814C151.023 363.402 158.856 366.033 167.369 366.033V355.536C160.992 355.536 155.999 353.592 152.624 350.3C149.277 347.035 146.965 341.903 146.965 334.414H136.468ZM142.793 262.434H59.9155V272.93H142.793V262.434ZM65.1638 267.682V266.247H54.6671V267.682H65.1638ZM64.5399 268.729C85.3805 229.898 109.097 193.684 146.029 140.438L137.404 134.455C100.427 187.766 76.4271 224.383 55.291 263.765L64.5399 268.729ZM141.716 142.695H142.793V132.198H141.716V142.695ZM137.544 137.447V267.682H148.041V137.447H137.544Z" fill="black" mask="url(#path-47-outside-1_0_1)" />
                <mask id="path-49-outside-2_0_1" maskUnits="userSpaceOnUse" x="751.219" y="88.0171" width="229" height="279" fill="black">
                    <rect fill="white" x="751.219" y="88.0171" width="229" height="279" />
                    <path d="M911.588 360.784C926.477 360.784 937.419 351.635 937.419 334.414V309.479H952.129C966.301 309.479 974.373 300.689 974.373 287.953C974.373 275.216 966.48 266.247 952.129 266.247H937.419V133.321C937.419 109.103 920.198 94.2142 892.752 94.2142C870.867 94.2142 857.771 103.184 839.832 130.63C811.669 172.427 785.837 211.892 768.077 243.823C760.005 257.995 756.776 268.041 756.776 279.163C756.776 297.281 769.871 309.479 789.425 309.479H885.935V334.414C885.935 351.635 896.698 360.784 911.588 360.784ZM887.011 267.682H804.134V266.247C825.123 227.14 848.981 190.725 885.935 137.447H887.011V267.682Z" />
                </mask>
                <path d="M911.588 360.784C926.477 360.784 937.419 351.635 937.419 334.414V309.479H952.129C966.301 309.479 974.373 300.689 974.373 287.953C974.373 275.216 966.48 266.247 952.129 266.247H937.419V133.321C937.419 109.103 920.198 94.2142 892.752 94.2142C870.867 94.2142 857.771 103.184 839.832 130.63C811.669 172.427 785.837 211.892 768.077 243.823C760.005 257.995 756.776 268.041 756.776 279.163C756.776 297.281 769.871 309.479 789.425 309.479H885.935V334.414C885.935 351.635 896.698 360.784 911.588 360.784ZM887.011 267.682H804.134V266.247C825.123 227.14 848.981 190.725 885.935 137.447H887.011V267.682Z" fill="white" />
                <path d="M937.419 309.479V304.231H932.171V309.479H937.419ZM937.419 266.247H932.171V271.495H937.419V266.247ZM839.832 130.63L844.185 133.563L844.206 133.532L844.226 133.501L839.832 130.63ZM768.077 243.823L772.638 246.421L772.651 246.398L772.664 246.375L768.077 243.823ZM885.935 309.479H891.183V304.231H885.935V309.479ZM887.011 267.682V272.93H892.26V267.682H887.011ZM804.134 267.682H798.886V272.93H804.134V267.682ZM804.134 266.247L799.51 263.765L798.886 264.928V266.247H804.134ZM885.935 137.447V132.198H883.188L881.623 134.455L885.935 137.447ZM887.011 137.447H892.26V132.198H887.011V137.447ZM911.588 366.033C920.097 366.033 927.964 363.404 933.733 357.832C939.537 352.226 942.668 344.172 942.668 334.414H932.171C932.171 341.878 929.83 347.008 926.441 350.282C923.016 353.59 917.967 355.536 911.588 355.536V366.033ZM942.668 334.414V309.479H932.171V334.414H942.668ZM937.419 314.728H952.129V304.231H937.419V314.728ZM952.129 314.728C960.318 314.728 967.316 312.164 972.277 307.203C977.229 302.251 979.622 295.439 979.622 287.953H969.125C969.125 293.203 967.481 297.154 964.854 299.781C962.236 302.4 958.112 304.231 952.129 304.231V314.728ZM979.622 287.953C979.622 280.502 977.296 273.652 972.377 268.646C967.437 263.617 960.423 260.999 952.129 260.999V271.495C958.186 271.495 962.295 273.361 964.889 276.002C967.504 278.664 969.125 282.667 969.125 287.953H979.622ZM952.129 260.999H937.419V271.495H952.129V260.999ZM942.668 266.247V133.321H932.171V266.247H942.668ZM942.668 133.321C942.668 119.888 937.844 108.597 928.828 100.731C919.897 92.9388 907.385 88.9658 892.752 88.9658V99.4626C905.565 99.4626 915.387 102.934 921.928 108.641C928.384 114.274 932.171 122.536 932.171 133.321H942.668ZM892.752 88.9658C880.986 88.9658 871.143 91.4079 861.839 97.8048C852.736 104.063 844.526 113.855 835.439 127.759L844.226 133.501C853.077 119.958 860.385 111.542 867.786 106.455C874.985 101.505 882.632 99.4626 892.752 99.4626V88.9658ZM835.48 127.697C807.321 169.487 781.372 209.122 763.491 241.272L772.664 246.375C790.302 214.663 816.016 175.367 844.185 133.563L835.48 127.697ZM763.517 241.226C755.194 255.838 751.528 266.797 751.528 279.163H762.024C762.024 269.285 764.816 260.153 772.638 246.421L763.517 241.226ZM751.528 279.163C751.528 289.546 755.314 298.564 762.195 304.96C769.043 311.324 778.557 314.728 789.425 314.728V304.231C780.739 304.231 773.929 301.535 769.341 297.271C764.786 293.038 762.024 286.898 762.024 279.163H751.528ZM789.425 314.728H885.935V304.231H789.425V314.728ZM880.687 309.479V334.414H891.183V309.479H880.687ZM880.687 334.414C880.687 344.146 883.756 352.199 889.513 357.814C895.242 363.402 903.075 366.033 911.588 366.033V355.536C905.211 355.536 900.218 353.592 896.842 350.3C893.495 347.035 891.183 341.903 891.183 334.414H880.687ZM887.011 262.434H804.134V272.93H887.011V262.434ZM809.383 267.682V266.247H798.886V267.682H809.383ZM808.759 268.729C829.599 229.898 853.316 193.684 890.248 140.438L881.623 134.455C844.646 187.766 820.646 224.383 799.51 263.765L808.759 268.729ZM885.935 142.695H887.011V132.198H885.935V142.695ZM881.763 137.447V267.682H892.26V137.447H881.763Z" fill="black" mask="url(#path-49-outside-2_0_1)" />
            </svg>
        </>
    )
}
const LinksNotFound = () => {
    return (
        <>
            <div className="flex flex-col justify-center items-center w-full border bg-white h-[550px] rounded-lg">
                <p className="font-medium text-slate-700 text-xl">No Links Found.</p>
                <NotFoundImage className="size-[250px] md:size-[350px] lg:size-[400px]" />
                <p className="text-sm text-gray-400">To create a link , click on the top-right button with label "Create Link" </p>
            </div>
        </>
    )
}

const LinkSkeleton = ({
    length
}: {
    length: number
}) => {
    return (
        <>
            {
                Array.from({
                    length
                }).map((_) => (
                    <div className="bg-white border rounded-xl animate-pulse">
                        <div className="flex items-center gap-5 p-4">
                            <SkeletonBar className="rounded-full size-12 p-2.5 items-center bg-gray-100" />
                            <div className="flex items-center justify-between gap min-w-0 w-full">
                                <div className="flex flex-col gap-2 min-w-0">
                                    <div className="flex items-center gap-3">
                                        <SkeletonBar className="w-[170px] bg-gray-100" />
                                    </div>
                                    <div className="flex items-center gap-3 min-w-0">
                                        <div className="flex items-center gap-1 min-w-0">
                                            <SkeletonBar className="w-[360px] bg-gray-100" />
                                        </div>
                                        <div className="flex items-center gap-3 text-slate-500">
                                            <SkeletonBar className="size-4 bg-gray-100" />
                                            <SkeletonBar className="w-8 bg-gray-100" />
                                        </div>
                                    </div>
                                </div>
                                <div className="">
                                    <SkeletonBar className="bg-gray-100" />
                                </div>
                            </div>
                        </div>
                    </div>
                ))
            }
        </>
    )
}
export default function LinksContainer() {
    const [isTransitioning, setIsTransitioning] = useState(false);
    const { data: links, isPending } = useQuery<
        {
            id: string;
            url: string;
            shortCode: string;
            title: string | null;
            description: string | null;
            image: string | null;
            expiresAt: Date | null;
            createdAt: Date | null;
            updatedAt: Date | null;
            user: {
                image: string | null;
            }
        }[]
    >({
        queryKey: ['links'],
        queryFn: () => {
            return fetcher({
                input: '/api/links',
                init: {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                    }
                }})
        },
        refetchOnWindowFocus: false,
    });


    // this useEffect is just for the blur transition after the react-query api call. 
    useEffect(() => {
        if (!isPending) {                                                           // if no get api being called ,
            setIsTransitioning(true);                                               // set transitioon to true
            const timeout = setTimeout(() => setIsTransitioning(false), 100);       // after 100ms , set it to false.
            return () => clearTimeout(timeout);                                     // cleanup func from useEffect.
        }
    }, [isPending]);

    return (
        <div className="flex flex-col gap-4 transition-all">
            {isPending ? (
                <LinkSkeleton length={5} />
            ) : (
                <div
                    className={`flex flex-col gap-4 ${isTransitioning ? 'blur-[1px] transition-opacity' : 'blur-0'
                        } transition-all duration-200`}
                >
                    {links && links.length > 0 ? (
                        links.map(({ title, image, url, shortCode , user , createdAt }) => (
                            <LinkCard key={shortCode} url={url} shortCode={shortCode} isPending={isPending} user={user}/>
                        ))
                    ) : (
                        <LinksNotFound />
                    )}
                </div>
            )}
        </div>
    );
}